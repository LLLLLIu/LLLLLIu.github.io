<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><title>Lombok详解及使用 | 迷失的鹿hold | 个人博客</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="介绍“Boilerplate”是一个术语，用于描述在应用程序的许多部分中重复执行的代码，几乎不做任何更改。 对Java语言最频繁的批评之一是大多数项目中都存在这种类型的代码。 这个问题通常是各个库设计决策的结果，但由于语言本身的限制而加剧。 Lombok项目旨在通过用一组简单的注释来替代它们来减少一些最严重的违法者的流行率。虽然注解用于指示使用情况，实现绑定甚至生成框架使用的代码并不罕见，但它们通"><meta name="keywords" content="java,lombok"><meta property="og:type" content="article"><meta property="og:title" content="Lombok详解及使用"><meta property="og:url" content="http://blog.liurenjie.top/posts/920061eb.html"><meta property="og:site_name" content="迷失的鹿hold | 个人博客"><meta property="og:description" content="介绍“Boilerplate”是一个术语，用于描述在应用程序的许多部分中重复执行的代码，几乎不做任何更改。 对Java语言最频繁的批评之一是大多数项目中都存在这种类型的代码。 这个问题通常是各个库设计决策的结果，但由于语言本身的限制而加剧。 Lombok项目旨在通过用一组简单的注释来替代它们来减少一些最严重的违法者的流行率。虽然注解用于指示使用情况，实现绑定甚至生成框架使用的代码并不罕见，但它们通"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://static.liurenjie.top/static/images/jnbJan2010-DataAnnotation.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><meta property="og:image" content="http://static.liurenjie.top/static/images/jnbJan2010-LombokInstaller.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><meta property="og:image" content="http://static.liurenjie.top/static/images/jnbJan2010-UnhandledException.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><meta property="og:image" content="http://static.liurenjie.top/static/images/jnbJan2010-SneakyThrows.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><meta property="og:updated_time" content="2018-06-08T07:32:57.892Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Lombok详解及使用"><meta name="twitter:description" content="介绍“Boilerplate”是一个术语，用于描述在应用程序的许多部分中重复执行的代码，几乎不做任何更改。 对Java语言最频繁的批评之一是大多数项目中都存在这种类型的代码。 这个问题通常是各个库设计决策的结果，但由于语言本身的限制而加剧。 Lombok项目旨在通过用一组简单的注释来替代它们来减少一些最严重的违法者的流行率。虽然注解用于指示使用情况，实现绑定甚至生成框架使用的代码并不罕见，但它们通"><meta name="twitter:image" content="http://static.liurenjie.top/static/images/jnbJan2010-DataAnnotation.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><link rel="icon" href="http://image.liurenjie.top/favicon.ico"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/libs/open-sans/styles.css"><link rel="stylesheet" href="/libs/source-code-pro/styles.css"><link rel="stylesheet" href="/css/style.css"><script src="/libs/jquery/2.1.3/jquery.min.js"></script><link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css"><link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css"><script src="https://cdn1.lncld.net/static/js/av-min-1.2.1.js"></script><script src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></head></html><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><i class="logo"></i> <span class="site-title">迷失的鹿hold | 个人博客</span></a><nav id="main-nav"><a class="main-nav-link" href="/.">主页</a> <a class="main-nav-link" href="/archives">归档</a> <a class="main-nav-link" href="/books">书籍</a> <a class="main-nav-link" href="/movies">电影</a> <a class="main-nav-link" href="/games">游戏</a> <a class="main-nav-link" href="/about">关于</a></nav><nav id="sub-nav"><div class="profile" id="profile-nav"><a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://image.liurenjie.top/avatar.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/5b6u6L2v6ZuF6buR/fontsize/500/fill/I0U2REVERQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10"> <i class="fa fa-caret-down"></i></a></div></nav><div id="search-form-wrap"><form class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="搜索"> <button type="submit" class="search-form-submit"></button></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..."> <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script></div></div></div><div id="main-nav-mobile" class="header-sub header-inner"><table class="menu outer"><tr><td><a class="main-nav-link" href="/.">主页</a></td><td><a class="main-nav-link" href="/archives">归档</a></td><td><a class="main-nav-link" href="/books">书籍</a></td><td><a class="main-nav-link" href="/movies">电影</a></td><td><a class="main-nav-link" href="/games">游戏</a></td><td><a class="main-nav-link" href="/about">关于</a></td><td><div class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="搜索"></div></td></tr></table></div></header><div class="outer"><aside id="profile" class="profile-fixed"><div class="inner profile-inner"><div class="base-info profile-block"><img id="avatar" src="http://image.liurenjie.top/avatar.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/5b6u6L2v6ZuF6buR/fontsize/500/fill/I0U2REVERQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10"><h2 id="name">迷失的鹿hold</h2><h3 id="title">Web Developer</h3><span id="location"><i class="fa fa-map-marker"></i>Hubei, China</span> <a id="follow" target="_blank" href="https://github.com/LLLLLIu" rel="external nofollow noopener noreferrer">关注我</a></div><div class="article-info profile-block"><div class="article-info-block">65 <span>文章</span></div><div class="article-info-block">53 <span>标签</span></div></div><div class="profile-block social-links"><table><tr><td><a href="https://github.com/LLLLLIu" target="_blank" title="github" class="tooltip" rel="external nofollow noopener noreferrer"><i class="fa fa-github"></i></a></td><td><a href="mailto:sss_liurenjie@163.com" target="_blank" title="envelope" class="tooltip" rel="external nofollow noopener noreferrer"><i class="fa fa-envelope"></i></a></td></tr></table></div></div></aside><section id="main"><article id="post-java2018-06-08-1" class="article article-type-post" itemscope="" itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Lombok详解及使用</h1><div class="article-meta"><div class="article-type"><span class="label label-success" style="float:left;padding:3px 5px 3px 5px;margin-top:2px">原创</span></div><div class="article-date"><i class="fa fa-calendar"></i> <a href="/posts/920061eb.html"><time datetime="2018-06-08T13:25:00.000Z" itemprop="datePublished">2018-06-08 13:25:00</time></a></div><div class="article-category"><i class="fa fa-user"></i> 刘仁杰</div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/java/">java</a></div><div class="article-readcount"><i class="fa fa-eye"></i> <span id="/posts/920061eb.html" class="leancloud_visitors" data-flag-title="Lombok详解及使用">0</span></div></div></header><div class="article-entry" itemprop="articleBody"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><blockquote><p>“Boilerplate”是一个术语，用于描述在应用程序的许多部分中重复执行的代码，几乎不做任何更改。 对Java语言最频繁的批评之一是大多数项目中都存在这种类型的代码。 这个问题通常是各个库设计决策的结果，但由于语言本身的限制而加剧。 Lombok项目旨在通过用一组简单的注释来替代它们来减少一些最严重的违法者的流行率。</p></blockquote><p>虽然注解用于指示使用情况，实现绑定甚至生成框架使用的代码并不罕见，但它们通常不用于生成应用程序直接使用的代码。 部分原因是因为这样做需要在开发时刻对注释进行热切处理。 Lombok计划就是这样做的。 通过集成到IDE中，Project Lombok能够注入可立即供开发人员使用的代码。<a id="more"></a></p><p>例如，简单地将<code>@Data</code>注释添加到数据类，如下所示，会在IDE中产生许多新方法：</p><img src="http://static.liurenjie.top/static/images/jnbJan2010-DataAnnotation.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li><h2 id="eclipse"><a href="#eclipse" class="headerlink" title="eclipse"></a>eclipse</h2><p>Project Lombok在项目网站上作为单个jar文件提供。 它包含用于开发的API，作为IDE集成的安装程序。 在大多数系统上，只需双击jar文件即可启动安装程序。 如果系统未配置为正确启动jar文件，则也可以从命令行运行，如下所示：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar lombok.jar</span><br></pre></td></tr></table></figure><p>安装程序将尝试检测受支持的IDE的位置。 如果无法正确确定IDE的安装位置，则可以手动指定位置。 只需点击“安装/更新”即可完成IDE集成。 在撰写本文时，仅支持Eclipse和NetBeans。 然而，IntelliJ IDEA源代码的发布已经将IDEA支持作为未来版本的可能性，并且JDeveloper已经显示成功。</p><img src="http://static.liurenjie.top/static/images/jnbJan2010-LombokInstaller.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"></li><li><h2 id="intellij-IDEA"><a href="#intellij-IDEA" class="headerlink" title="intellij IDEA"></a>intellij IDEA</h2><p>菜单：file-&gt;settings-&gt;plugins-&gt;browse repositories-&gt;搜索(Lombok plugin)安装即可</p></li></ul><p>jar文件仍然需要包含在任何将使用Project Lombok注释的项目的类路径中。 Maven用户可以将Lombok作为依赖项添加到项目pom.xml文件中：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>projectlombok.org<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://projectlombok.org/mavenrepo<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ----or- --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Lombok-注解"><a href="#Lombok-注解" class="headerlink" title="Lombok 注解"></a>Lombok 注解</h2><p>典型的Java项目将数百行代码投入到定义简单数据类所需的样板文件中并不罕见。 这些类通常包含许多字段，这些字段的<code>getter</code>和<code>setter</code>以及<code>equals</code>和<code>hashCode</code>实现。 在最简单的情况下，Project Lombok可以将这些类减少到必需的字段和单个<code>@Data</code>注释。</p><p>当然，最简单的情况并不一定是开发人员在日常工作中所面对的情况。 出于这个原因，Lombok项目中有许多注释允许对类的结构和行为进行更细粒度的控制。</p><ul><li><h3 id="Getter-and-Setter"><a href="#Getter-and-Setter" class="headerlink" title="@Getter and @Setter"></a>@Getter and @Setter</h3><p><code>@Getter</code>和<code>@Setter</code>注释分别为一个字段生成一个<code>getter</code>和<code>setter</code>。 生成的<code>getter</code>正确地遵循<code>boolean</code>属性的约定，导致<code>isFoo getter</code>方法名称，而不是<code>getFoo</code>，用于任何<code>boolean</code>字段foo。 应该注意的是，如果注释字段所属的类包含与要生成的<code>getter</code>或<code>setter</code>相同名称的方法，则不管参数或返回类型如何，都不会生成相应的方法。</p><p><code>@Getter</code>和<code>@Setter</code>注释都带有一个可选参数来为生成的方法指定访问级别。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span> <span class="meta">@Setter</span> <span class="keyword">private</span> <span class="keyword">boolean</span> employed = <span class="keyword">true</span>;</span><br><span class="line"><span class="meta">@Setter</span>(AccessLevel.PROTECTED) <span class="keyword">private</span> String name;</span><br></pre></td></tr></table></figure><p>Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> employed = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmployed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> employed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEmployed</span><span class="params">(<span class="keyword">final</span> <span class="keyword">boolean</span> employed)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.employed = employed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="keyword">final</span> String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h3 id="NonNull"><a href="#NonNull" class="headerlink" title="@NonNull"></a>@NonNull</h3><p><code>@NonNull</code>注释用于表示需要对相应的成员进行快速失败空检查。 当放置在Lombok正在生成<code>setter</code>方法的字段上时，将生成空值检查，如果提供空值，将会导致NullPointerException。 此外，如果Lombok正在为拥有的类生成一个构造函数，那么该字段将被添加到构造函数签名中，而空检查将包含在生成的构造函数代码中。</p><p>此注释镜像了IntelliJ IDEA和FindBugs中的<code>@NotNul</code>l和<code>@NonNull</code>注释等等。 关于ide上的这些变化，Lombok目标注释是不可知的。 如果Lombok遇到任何注释了名称<code>@NotNull</code>或<code>@NonNull</code>的成员，它将通过生成适当的相应代码来实现它。 Project Lombok的作者进一步评论说，如果这种类型的注释被添加到Java中，那么Lombok版本将被删除。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span> <span class="meta">@Setter</span> <span class="meta">@NonNull</span></span><br><span class="line"><span class="keyword">private</span> List&lt;Person&gt; members;</span><br></pre></td></tr></table></figure><p>Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NonNull</span></span><br><span class="line"><span class="keyword">private</span> List&lt;Person&gt; members;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Family</span><span class="params">(@NonNull <span class="keyword">final</span> List&lt;Person&gt; members)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (members == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"members"</span>);</span><br><span class="line">    <span class="keyword">this</span>.members = members;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="meta">@NonNull</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Person&gt; <span class="title">getMembers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> members;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMembers</span><span class="params">(@NonNull <span class="keyword">final</span> List&lt;Person&gt; members)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (members == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"members"</span>);</span><br><span class="line">    <span class="keyword">this</span>.members = members;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><h3 id="ToString"><a href="#ToString" class="headerlink" title="@ToString"></a>@ToString</h3><p>此注释生成<code>toString</code>方法的实现。 默认情况下，任何非静态字段将以名称/值对的形式包含在方法的输出中。 如果需要，可以通过将注释参数<code>includeFieldNames</code>设置为<code>false</code>来抑制在输出中包含属性名称。</p><p>通过将其字段名称包含在<code>exclude</code>参数中，可以从生成方法的输出中排除特定字段。 或者，可以使用<code>of</code>参数仅列出输出中所需的那些字段。 通过将<code>callSuper</code>参数设置为<code>true</code>，还可以包含超类的<code>toString</code>方法的输出。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ToString</span>(callSuper=<span class="keyword">true</span>,exclude=<span class="string">"someExcludedField"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Bar</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> someBoolean = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">private</span> String someStringField;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> someExcludedField;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Bar</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> someBoolean = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">private</span> String someStringField;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> someExcludedField;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="keyword">public</span> java.lang.<span class="function">String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Foo(super="</span> + <span class="keyword">super</span>.toString() +</span><br><span class="line">            <span class="string">", someBoolean="</span> + someBoolean +</span><br><span class="line">            <span class="string">", someStringField="</span> + someStringField + <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h3 id="EqualsAndHashCode"><a href="#EqualsAndHashCode" class="headerlink" title="@EqualsAndHashCode"></a>@EqualsAndHashCode</h3><p>这个类级别的注释Lombok将生成<code>equals</code>和<code>hashCode</code>方法，因为这两个方法通过<code>hashCode</code>本质连接在一起。默认情况下，两个方法都会考虑非静态或瞬态的类中的任何字段。很像<code>@ToString</code>，提供了<code>exclude</code>参数以防止字段被包含在生成的逻辑中。也可以使用<code>of</code>参数来仅列出应该考虑的那些字段。</p><p>还像<code>@ToString</code>一样，这个注释有一个<code>callSuper</code>参数。将它设置为<code>true</code>将导致<code>equals</code>在考虑当前类中的字段之前通过从超类调用<code>equals</code>来验证相等性。对于<code>hashCode</code>方法，它会导致将超类<code>hashCode</code>的结果合并到散列计算中。将<code>callSuper</code>设置为<code>true</code>时，请注意确保父类中的<code>equals</code>方法正确处理实例类型检查。如果父类检查该类是特定类型的，而不仅仅是这两个对象的类是相同的，则这可能会导致不希望的结果。如果超类使用Lombok生成的<code>equals</code>方法，这不是问题。但是，其他实现可能无法正确处理这种情况。还要注意，当类仅扩展Object时，将<code>callSuper</code>设置为<code>true</code>不能完成，因为它会导致实例等同性检查，将字段比较短路。这是由于生成的方法在Object上调用<code>equals</code>实现，如果比较的两个实例不是相同的实例，则返回<code>false</code>。因此，在这种情况下，Lombok会产生编译时错误。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EqualsAndHashCode</span>(callSuper=<span class="keyword">true</span>,exclude=&#123;<span class="string">"address"</span>,<span class="string">"city"</span>,<span class="string">"state"</span>,<span class="string">"zip"</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">SentientBeing</span> </span>&#123;</span><br><span class="line">    <span class="keyword">enum</span> Gender &#123; Male, Female &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> Gender gender;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String ssn;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">SentientBeing</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">enum</span> Gender &#123;</span><br><span class="line">        <span class="comment">/*public static final*/</span> Male <span class="comment">/* = new Gender() */</span>,</span><br><span class="line">        <span class="comment">/*public static final*/</span> Female <span class="comment">/* = new Gender() */</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> Gender gender;</span><br><span class="line">    <span class="keyword">private</span> String ssn;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(<span class="keyword">final</span> java.lang.Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">this</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (o.getClass() != <span class="keyword">this</span>.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">super</span>.equals(o)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">final</span> Person other = (Person)o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.name == <span class="keyword">null</span> ? other.name != <span class="keyword">null</span> : !<span class="keyword">this</span>.name.equals(other.name)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.gender == <span class="keyword">null</span> ? other.gender != <span class="keyword">null</span> : !<span class="keyword">this</span>.gender.equals(other.gender)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.ssn == <span class="keyword">null</span> ? other.ssn != <span class="keyword">null</span> : !<span class="keyword">this</span>.ssn.equals(other.ssn)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> PRIME = <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">        result = result * PRIME + <span class="keyword">super</span>.hashCode();</span><br><span class="line">        result = result * PRIME + (<span class="keyword">this</span>.name == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.name.hashCode());</span><br><span class="line">        result = result * PRIME + (<span class="keyword">this</span>.gender == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.gender.hashCode());</span><br><span class="line">        result = result * PRIME + (<span class="keyword">this</span>.ssn == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.ssn.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h3 id="Data"><a href="#Data" class="headerlink" title="@Data"></a>@Data</h3><p><code>@Data</code>注释可能是Project Lombok工具集中最常用的注释。它结合了<code>@ToString</code>，<code>@EqualsAndHashCode</code>，<code>@Getter</code>和<code>@Setter</code>的功能。实质上，对类使用<code>@Data</code>与使用默认<code>@ToString</code>和<code>@EqualsAndHashCode</code>注释类以及使用<code>@Getter</code>和<code>@Setter</code>注释每个字段相同。使用<code>@Data</code>标注类也会触发Lombok的构造函数生成。这增加了一个公共构造函数，它将任何<code>@NonNull</code>或<code>final</code>字段作为参数。这提供了简单的旧Java对象（POJO）所需的一切。</p><p>虽然<code>@Data</code>非常有用，但它不提供与其他Lombok注释相同的控制粒度。为了覆盖默认的方法生成行为，请使用其他Lombok注释之一注释该类，字段或方法，并指定必要的参数值以实现所需的效果。</p><p><code>@Data</code>确实提供了可用于生成静态工厂方法的单个参数选项。将<code>staticConstructor</code>参数的值设置为所需的方法名称将导致Lombok将生成的构造函数设为私有，并公开给定名称的静态工厂方法。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span>(staticConstructor=<span class="string">"of"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Company</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Person founder;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Person&gt; employees;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Company</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Person founder;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Person&gt; employees;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Company</span><span class="params">(<span class="keyword">final</span> Person founder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.founder = founder;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Company <span class="title">of</span><span class="params">(<span class="keyword">final</span> Person founder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Company(founder);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">getFounder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> founder;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="keyword">final</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Person&gt; <span class="title">getEmployees</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> employees;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEmployees</span><span class="params">(<span class="keyword">final</span> List&lt;Person&gt; employees)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.employees = employees;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(<span class="keyword">final</span> java.lang.Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">this</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (o.getClass() != <span class="keyword">this</span>.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">final</span> Company other = (Company)o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.founder == <span class="keyword">null</span> ? other.founder != <span class="keyword">null</span> : !<span class="keyword">this</span>.founder.equals(other.founder)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.name == <span class="keyword">null</span> ? other.name != <span class="keyword">null</span> : !<span class="keyword">this</span>.name.equals(other.name)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.employees == <span class="keyword">null</span> ? other.employees != <span class="keyword">null</span> : !<span class="keyword">this</span>.employees.equals(other.employees)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> PRIME = <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">        result = result * PRIME + (<span class="keyword">this</span>.founder == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.founder.hashCode());</span><br><span class="line">        result = result * PRIME + (<span class="keyword">this</span>.name == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.name.hashCode());</span><br><span class="line">        result = result * PRIME + (<span class="keyword">this</span>.employees == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.employees.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="keyword">public</span> java.lang.<span class="function">String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Company(founder="</span> + founder + <span class="string">", name="</span> + name + <span class="string">", employees="</span> + employees + <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h3 id="Cleanup"><a href="#Cleanup" class="headerlink" title="@Cleanup"></a>@Cleanup</h3><p><code>@Cleanup</code>注释可以用来确保分配的资源被释放。当<code>@Cleanup</code>注释一个局部变量时，任何后续代码都会被封装在<code>try / finally</code>块中，以确保在当前作用域的末尾调用<code>cleanup</code>方法。默认<code>@Cleanup</code>假定清理方法被命名为“关闭”，就像输入和输出流一样。但是，可以为注释的值参数提供不同的方法名称。只有不带参数的清理方法才能用于此批注。</p><p>使用@Cleanup注解时还需要注意一点。如果清理方法抛出异常，它将抢占抛出方法体内的任何异常。这可能导致问题的实际原因被掩埋，因此在选择使用Project Lombok的资源管理时应该考虑这个问题。此外，随着Java 7中的自动化资源管理技术的发展，这种特殊的注释可能会相对短暂。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCleanUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="meta">@Cleanup</span> ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        baos.write(<span class="keyword">new</span> <span class="keyword">byte</span>[] &#123;<span class="string">'Y'</span>,<span class="string">'e'</span>,<span class="string">'s'</span>&#125;);</span><br><span class="line">        System.out.println(baos.toString());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Equivalent Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCleanUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            baos.write(<span class="keyword">new</span> <span class="keyword">byte</span>[]&#123;<span class="string">'Y'</span>, <span class="string">'e'</span>, <span class="string">'s'</span>&#125;);</span><br><span class="line">            System.out.println(baos.toString());</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            baos.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h3 id="Synchronized"><a href="#Synchronized" class="headerlink" title="@Synchronized"></a>@Synchronized</h3><p>在一个方法上使用<code>synchronized</code>关键字可能会导致不幸的结果，因为任何从事多线程软件开发的开发人员都可以证明。 <code>synchronized</code>关键字将在实例方法的情况下或静态方法的类对象上锁定当前对象（<code>this</code>）。这意味着开发人员无法控制的代码可能会锁定在同一个对象上，导致死锁。通常建议明确地锁定一个单独的对象，该对象专门专门用于此目的，而不是以允许未经请求的锁定的方式公开。 Lombok项目为此目的提供<code>@Synchronized</code>注释。</p><p>使用<code>@Synchronized</code>注解实例方法将提示Lombok生成一个名为$ lock的私有锁定字段，该方法在执行之前将锁定该方法。类似地，以同样的方式注释静态方法将生成一个名为$ LOCK的私有静态对象，以静态方法以相同的方式使用。通过为注解的值参数提供一个字段名称可以指定不同的锁定对象。当提供字段名称时，开发人员必须定义属性，因为Lombok不会生成它。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> DateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"MM-dd-YYYY"</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Synchronized</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">synchronizedFormat</span><span class="params">(Date date)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> format.format(date);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Equivalent Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> java.lang.Object $lock = <span class="keyword">new</span> java.lang.Object[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">private</span> DateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"MM-dd-YYYY"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">synchronizedFormat</span><span class="params">(Date date)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> ($lock) &#123;</span><br><span class="line">        <span class="keyword">return</span> format.format(date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h3 id="SneakyThrows"><a href="#SneakyThrows" class="headerlink" title="@SneakyThrows"></a>@SneakyThrows</h3><p><code>@SneakyThrows</code>可能是最受批评者注意的项目Lombok，因为它直接攻击检查的异常。 关于检查异常的使用方面存在很多分歧，有大量开发人员认为他们是一个失败的实验。 这些开发人员会喜欢<code>@SneakyThrows</code>。 在选中/未选中的异常栏的另一边的那些开发人员很可能会将其视为隐藏潜在问题。</p><p>如果<code>IllegalAccessException</code>或某个父类未在<code>throws</code>子句中列出，则抛出<code>IllegalAccessException</code>通常会生成“未处理的异常”错误：</p><img src="http://static.liurenjie.top/static/images/jnbJan2010-UnhandledException.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><p>当用<code>@SneakyThrows</code>注释时，错误消失。</p><img src="http://static.liurenjie.top/static/images/jnbJan2010-SneakyThrows.png?imageView2/0/q/75|watermark/2/text/QOi_t-WkseeahOm5v2hvbGQ=/font/6buR5L2T/fontsize/480/fill/I0M1QjVCNQ==/dissolve/75/gravity/SouthEast/dx/10/dy/10|imageslim"><p><br class="Apple-interchange-newline"></p><div></div><p></p><p>默认情况下，<code>@SneakyThrows</code>将允许抛出任何检查的异常而不用在<code>throws</code>子句中声明。通过向注释的值参数提供一个可抛出的类（<code>Class &lt;？extends Throwable&gt;）</code>数组，可以将其限制为一组特定的异常。</p><p>Lombok annotated code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SneakyThrows</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSneakyThrows</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalAccessException();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Equivalent Java source code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSneakyThrows</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalAccessException();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (java.lang.Throwable $ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> lombok.Lombok.sneakyThrow($ex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>查看上面的代码和<code>Lombok.sneakyThrow（Throwable）</code>的标识会导致大多数人认为异常被包装在<code>RuntimeException</code>中并重新抛出，但事实并非如此。 <code>sneakyThrow</code>方法永远不会正常返回，而是将提供的<code>throwable</code>完全不变。</p><h4 id="代价和好处"><a href="#代价和好处" class="headerlink" title="代价和好处"></a>代价和好处</h4><p>与任何技术选择一样，使用Project Lombok也有正面和负面影响。将Lombok的注释合并到项目中可以大大减少在IDE中生成或手动编写的样板代码的行数。这样可以减少维护开销，减少错误并提高可读性。</p><p>这并不是说在项目中使用Project Lombok注释没有缺点。 Lombok项目主要是为了填补Java语言的空白。因此，有可能会改变语言，以免使用Lombok的注释，例如增加一流的财产支持。此外，当与基于注释的对象关系映射（ORM）框架结合使用时，数据类的注释数量可能开始变得笨拙。这很大程度上被Lombok注释取代的代码量所抵消。但是，避免频繁使用注释的人可能会选择另一种方式。</p><h4 id="找不到什么？"><a href="#找不到什么？" class="headerlink" title="找不到什么？"></a>找不到什么？</h4><p>Lombok项目提供了用于替换等效源代码的Lombok注释的delombok工具。 这可以通过命令行为整个源目录完成。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar lombok.jar delombok src -d src-delomboked</span><br></pre></td></tr></table></figure><p>另外，还提供了一个Ant任务，用于合并到构建过程中。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"delombok"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">taskdef</span> <span class="attr">classname</span>=<span class="string">"lombok.delombok.ant.DelombokTask"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">classpath</span>=<span class="string">"WebRoot/WEB-INF/lib/lombok.jar"</span> <span class="attr">name</span>=<span class="string">"delombok"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mkdir</span> <span class="attr">dir</span>=<span class="string">"src-delomboked"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delombok</span> <span class="attr">verbose</span>=<span class="string">"true"</span> <span class="attr">encoding</span>=<span class="string">"UTF-8"</span> <span class="attr">to</span>=<span class="string">"src-delomboked"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">from</span>=<span class="string">"src"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>delombok</code>和相应的<code>Ant</code>任务都打包在核心的<code>lombok.jar</code>下载中。 除了允许在使用Google Web Toolkit（GWT）或其他不兼容框架构建的应用程序中使用Lombok注释之外，在<code>Person</code>类上运行<code>delombok</code>可以轻松地将使用Lombok注释编写的类与包含等效样板内联的代码进行对比。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ociweb.jnb.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"><span class="keyword">import</span> lombok.NonNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span>(exclude=&#123;<span class="string">"address"</span>,<span class="string">"city"</span>,<span class="string">"state"</span>,<span class="string">"zip"</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">enum</span> Gender &#123; Male, Female &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> String firstName;</span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> String lastName;</span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> <span class="keyword">final</span> Gender gender;</span><br><span class="line">    <span class="meta">@NonNull</span> <span class="keyword">private</span> <span class="keyword">final</span> Date dateOfBirth;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String ssn;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用Project Lombok注解的代码比包含样板的同等类更加简洁。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ociweb.jnb.lombok;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> lombok.NonNull;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">enum</span> Gender &#123;</span><br><span class="line">        <span class="comment">/*public static final*/</span> Male <span class="comment">/* = new Gender() */</span>,</span><br><span class="line">        <span class="comment">/*public static final*/</span> Female <span class="comment">/* = new Gender() */</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> String firstName;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> String lastName;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Gender gender;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Date dateOfBirth;</span><br><span class="line">    <span class="keyword">private</span> String ssn;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(@NonNull <span class="keyword">final</span> String firstName, @NonNull <span class="keyword">final</span> String lastName,</span></span></span><br><span class="line"><span class="function"><span class="params">            @NonNull <span class="keyword">final</span> Gender gender, @NonNull <span class="keyword">final</span> Date dateOfBirth)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (firstName == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"firstName"</span>);</span><br><span class="line">        <span class="keyword">if</span> (lastName == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"lastName"</span>);</span><br><span class="line">        <span class="keyword">if</span> (gender == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"gender"</span>);</span><br><span class="line">        <span class="keyword">if</span> (dateOfBirth == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"dateOfBirth"</span>);</span><br><span class="line">        <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">        <span class="keyword">this</span>.dateOfBirth = dateOfBirth;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFirstName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> firstName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFirstName</span><span class="params">(@NonNull <span class="keyword">final</span> String firstName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (firstName == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"firstName"</span>);</span><br><span class="line">        <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLastName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLastName</span><span class="params">(@NonNull <span class="keyword">final</span> String lastName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lastName == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.lang.NullPointerException(<span class="string">"lastName"</span>);</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Gender <span class="title">getGender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getDateOfBirth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dateOfBirth;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSsn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ssn;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSsn</span><span class="params">(<span class="keyword">final</span> String ssn)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ssn = ssn;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(<span class="keyword">final</span> String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> city;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCity</span><span class="params">(<span class="keyword">final</span> String city)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.city = city;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setState</span><span class="params">(<span class="keyword">final</span> String state)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getZip</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> zip;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setZip</span><span class="params">(<span class="keyword">final</span> String zip)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.zip = zip;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="keyword">public</span> java.lang.<span class="function">String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person(firstName="</span> + firstName + <span class="string">", lastName="</span> + lastName + </span><br><span class="line">            <span class="string">", gender="</span> + gender + <span class="string">", dateOfBirth="</span> + dateOfBirth +</span><br><span class="line">            <span class="string">", ssn="</span> + ssn + <span class="string">", address="</span> + address + <span class="string">", city="</span> + city +</span><br><span class="line">            <span class="string">", state="</span> + state + <span class="string">", zip="</span> + zip + <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(<span class="keyword">final</span> java.lang.Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">this</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (o.getClass() != <span class="keyword">this</span>.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">final</span> Person other = (Person)o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.firstName == <span class="keyword">null</span></span><br><span class="line">                ? other.firstName != <span class="keyword">null</span></span><br><span class="line">                : !<span class="keyword">this</span>.firstName.equals(other.firstName))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.lastName == <span class="keyword">null</span></span><br><span class="line">                ? other.lastName != <span class="keyword">null</span></span><br><span class="line">                : !<span class="keyword">this</span>.lastName.equals(other.lastName))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.gender == <span class="keyword">null</span></span><br><span class="line">                ? other.gender != <span class="keyword">null</span></span><br><span class="line">                : !<span class="keyword">this</span>.gender.equals(other.gender))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.dateOfBirth == <span class="keyword">null</span></span><br><span class="line">                ? other.dateOfBirth != <span class="keyword">null</span></span><br><span class="line">                : !<span class="keyword">this</span>.dateOfBirth.equals(other.dateOfBirth))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.ssn == <span class="keyword">null</span></span><br><span class="line">                ? other.ssn != <span class="keyword">null</span></span><br><span class="line">                : !<span class="keyword">this</span>.ssn.equals(other.ssn))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@java</span>.lang.Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> PRIME = <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">        result = result * PRIME +</span><br><span class="line">            (<span class="keyword">this</span>.firstName == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.firstName.hashCode());</span><br><span class="line">        result = result * PRIME +</span><br><span class="line">            (<span class="keyword">this</span>.lastName == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.lastName.hashCode());</span><br><span class="line">        result = result * PRIME +</span><br><span class="line">            (<span class="keyword">this</span>.gender == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.gender.hashCode());</span><br><span class="line">        result = result * PRIME +</span><br><span class="line">            (<span class="keyword">this</span>.dateOfBirth == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.dateOfBirth.hashCode());</span><br><span class="line">        result = result * PRIME +</span><br><span class="line">            (<span class="keyword">this</span>.ssn == <span class="keyword">null</span> ? <span class="number">0</span> : <span class="keyword">this</span>.ssn.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>请记住，这不仅仅是通常必须编写的代码，还必须通过维护开发人员来阅读。这意味着，在使用Project Lombok提供的注释时，开发人员无需通过无数代码行来确定所讨论的类是简单的数据类还是更险恶的东西。</p><h3 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h3><p>虽然Project Lombok做了一些戏剧性的事情来让开发人员的生活更轻松，但它有其局限性。浏览 <a href="http://code.google.com/p/projectlombok/issues/list" rel="external nofollow noopener noreferrer" target="_blank">问题清单</a> 将快速阐明目前的一些缺点，其中大部分都是次要的。一个重要的问题是无法检测超类的构造函数。这意味着如果一个超类没有默认构造函数，那么任何子类都不能使用<code>@Data</code>注释，而不显式编写构造函数来使用可用的超类构造函数。由于Lombok项目尊重任何匹配要生成方法名称的方法，因此可以使用此方法克服其大部分功能缺陷。</p><h3 id="争议"><a href="#争议" class="headerlink" title="争议"></a>争议</h3><p>针对使用Lombok项目提出了一些问题。最常见的观点认为，注释是针对“元”信息的，并且不会以这种方式使用，导致代码库被删除时无法编译。这当然是Lombok注释的情况。新的方法来自这些注释，这些注释不仅被框架使用，而且被应用程序的其他部分使用。Lombok项目的开发时间支持是它的面包和黄油，但这确实会带来一些后果，尤其是对IDE支持的限制。</p><p>如前所述，<code>@SneakyThrows</code>必然会激起古老的争论，而不是经过检查和不加限制的例外。关于这场辩论的意见往往在其凶猛中几乎是虔诚的。因此，反对使用的论点<code>@SneakyThrows</code> 也肯定会激发激情之间的激情。</p><p>争论的另一点是实现支持IDE集成的代码以及<code>javac</code> 注释处理器。这两个Lombok项目都使用非公开的API来完成他们的魔法。这意味着在后续的IDE或JDK版本中，Project Lombok可能会被破坏。以下是项目创始人之一Reinier Zwitserloot如何描述情况：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">这是一个彻头彻尾的黑客。使用非公开的API。放肆的投射（知道</span><br><span class="line">在javac中运行的注释处理器将获得JavacAnnotationProcessor的一个实例，</span><br><span class="line">这是AnnotationProcessor（一个接口）的内部实现，它</span><br><span class="line">恰好有一些额外的方法用于获取实时AST） 。</span><br><span class="line"></span><br><span class="line">在eclipse上，它可能更糟糕（并且更强大） - 一个java代理用于将</span><br><span class="line">代码注入eclipse语法和解析器类，这当然完全是非公共</span><br><span class="line">API并且完全没有限制。</span><br><span class="line"></span><br><span class="line">如果你可以做Lombok用标准API做什么，我会这样做，但</span><br><span class="line">你不能。不过，为了它的价值，我开发了Eclipse eclipse v3.5的eclipse插件</span><br><span class="line">运行在java 1.6上，并且不需要做任何修改就可以运行在Eclipse </span><br><span class="line">1.5 上的eclipse v3.4 上，所以它不是完全脆弱的。</span><br></pre></td></tr></table></figure></li></ul><h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>Lombok项目是实用开发人员的强大工具。它为从Java类中消除大量样板代码提供了一组有用的注释。在最好的情况下，只有五个字符可以代替数百行代码。其结果是Java类清晰，简洁并易于维护。这些好处确实会带来成本。在IntelliJ IDEA商店中使用Project Lombok简直不是一个可行的选择。IDE和JDK升级有破坏的风险，以及围绕项目目标和实施的争议。所有这些转化为与任何技术选择必须考虑的相同。总会有收获和损失。问题在于Project Lombok是否可以为手头的项目提供比成本更高的价值。如果没有其他的事情，Lombok项目肯定会为迄今为止已经枯萎的语言特征的讨论注入新的生命，并且从任何角度都是一个胜利。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><p>Lombok 项目 -<br><a href="http://projectlombok.org/" rel="external nofollow noopener noreferrer" target="_blank">http://projectlombok.org</a></p></li><li><p>Lombok API文档 -<br><a href="http://projectlombok.org/api/index.html" rel="external nofollow noopener noreferrer" target="_blank">http://projectlombok.org/api/index.html</a></p></li><li><p>项目Lombok 问题列表 -<br><a href="http://code.google.com/p/projectlombok/issues/list" rel="external nofollow noopener noreferrer" target="_blank">http://code.google.com/p/projectlombok/issues/list</a></p></li><li><p>通过Maven使用Lombok -<br><a href="http://projectlombok.org/mavenrepo/index.html" rel="external nofollow noopener noreferrer" target="_blank">http://projectlombok.org/mavenrepo/index.html</a></p></li><li><p>Project Lombok Google Group -<br><a href="http://groups.google.com/group/project-lombok" rel="external nofollow noopener noreferrer" target="_blank">http://groups.google.com/group/project-lombok</a></p></li><li><p>审核Lombok 项目或编写图书馆的正确方法 -<br><a href="http://www.cforcoding.com/2009/11/reviewing-project-lombok-or-right-way.html" rel="external nofollow noopener noreferrer" target="_blank">http://www.cforcoding.com/2009/11/reviewing-project-lombok-or-right-way.html</a></p></li><li><p>Morbok：Lombok的扩展 -<br><a href="http://code.google.com/p/morbok/" rel="external nofollow noopener noreferrer" target="_blank">http://code.google.com/p/morbok</a></p></li><li><p>与JDeveloper一起使用Project Lombok -<br><a href="http://kingsfleet.blogspot.com/2009/09/project-lombok-interesting-bean.html" rel="external nofollow noopener noreferrer" target="_blank">http://kingsfleet.blogspot.com/2009/09/project-lombok-interesting-bean.html</a></p></li><li><p>示例代码 -<br><a href="http://jnb.ociweb.com/jnb/jnbJan2010_files/LombokExample.zip" rel="external nofollow noopener noreferrer" target="_blank">LombokExample.zip</a></p></li><li><p>文章来源（EN） -</p><p><a href="http://jnb.ociweb.com/jnb/jnbJan2010.html" rel="external nofollow noopener noreferrer" target="_blank">http://jnb.ociweb.com/jnb/jnbJan2010.html</a></p></li></ul><p>感谢Mark Volkmann，Eric Burke，Mario Aquino和Lance Finney对本文的评论和建议，并特别感谢Mark Volkmann向我介绍Lombok项目。</p><p>翻译：<a href="https://translate.google.cn/" rel="external nofollow noopener noreferrer" target="_blank">google translate</a></p><div class="article-copyright"><ul style="list-style:none"><li>版权声明：本文由 刘仁杰 发表于 <a href="/" target="_blank">迷失的鹿hold的博客</a></li><li>转载声明：本作品采用<a rel="external nofollow noopener noreferrer" href="http://creativecommons.org/licenses/by/4.0/" target="_blank">知识共享署名 4.0 国际许可协议</a>进行许可。</li><li>文章作者：<a href="/posts/920061eb.html" target="_blank">刘仁杰</a></li><li>文章来源：<a href="/posts/920061eb.html" target="_blank">Lombok详解及使用</a></li></ul></div></div><footer class="article-footer"><div class="article-tag"><i class="fa fa-tag"></i> <a class="tag-link" href="/tags/java/">java</a>, <a class="tag-link" href="/tags/lombok/">lombok</a></div><div class="share-container"></div><a data-url="http://blog.liurenjie.top/posts/920061eb.html" data-id="cji5sn48w00b23s5cjuroby44" class="article-share-link"><i class="fa fa-share"></i>分享到</a><script>!function(n){"undefined"!=typeof __SHARE_BUTTON_BINDED__&&__SHARE_BUTTON_BINDED__||(__SHARE_BUTTON_BINDED__=!0,n("body").on("click",function(){n(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(t){t.stopPropagation();var e,a=n(this),o=a.attr("data-url"),i=encodeURIComponent(o),r="article-share-box-"+a.attr("data-id"),s=a.offset();if(n("#"+r).length){if((e=n("#"+r)).hasClass("on"))return void e.removeClass("on")}else{var l=['<div id="'+r+'" class="article-share-box">','<input class="article-share-input" value="'+o+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+i+'" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+i+'" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+i+'" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+i+'" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join("");e=n(l),n("body").append(e)}n(".article-share-box.on").hide(),e.css({top:s.top+25,left:s.left}).addClass("on")}).on("click",".article-share-box",function(t){t.stopPropagation()}).on("click",".article-share-box-input",function(){n(this).select()}).on("click",".article-share-box-link",function(t){t.preventDefault(),t.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")}))}(jQuery)</script><a href="http://blog.liurenjie.top/posts/920061eb.html#comments" id="sourceId::posts/920061eb.html" class="article-comment-link cy_cmt_count">评论 <span id="sourceId::posts/920061eb.html" class="cy_cmt_count"></span></a></footer></div><nav id="article-nav"><a href="/posts/eb34cc03.html" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title">Git手册</div></a><a href="/posts/fca4a688.html" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">spring boot redis分布式锁</div></a></nav></article><section id="comments"><div id="SOHUCS" sid="posts/920061eb.html"></div></section></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul id="recent-post"><li><div class="item-thumbnail"><a href="/posts/eb34cc03.html" class="thumbnail"><span class="thumbnail-image thumbnail-none"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/other/">other</a></p><p class="item-title"><a href="/posts/eb34cc03.html" class="title">Git手册</a></p><p class="item-date"><time datetime="2018-06-08T15:19:22.000Z" itemprop="datePublished">2018-06-08</time></p></div></li><li><div class="item-thumbnail"><a href="/posts/920061eb.html" class="thumbnail"><span class="thumbnail-image thumbnail-none"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/java/">java</a></p><p class="item-title"><a href="/posts/920061eb.html" class="title">Lombok详解及使用</a></p><p class="item-date"><time datetime="2018-06-08T13:25:00.000Z" itemprop="datePublished">2018-06-08</time></p></div></li><li><div class="item-thumbnail"><a href="/posts/fca4a688.html" class="thumbnail"><span class="thumbnail-image thumbnail-none"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/java/">java</a></p><p class="item-title"><a href="/posts/fca4a688.html" class="title">spring boot redis分布式锁</a></p><p class="item-date"><time datetime="2018-06-07T16:03:48.000Z" itemprop="datePublished">2018-06-07</time></p></div></li><li><div class="item-thumbnail"><a href="/posts/b6fa0ec.html" class="thumbnail"><span class="thumbnail-image thumbnail-none"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/hexo/">hexo</a></p><p class="item-title"><a href="/posts/b6fa0ec.html" class="title">hexo博客建立一个聊天组</a></p><p class="item-date"><time datetime="2018-06-01T18:02:43.000Z" itemprop="datePublished">2018-06-01</time></p></div></li><li><div class="item-thumbnail"><a href="/posts/75ff714c.html" class="thumbnail"><span class="thumbnail-image thumbnail-none"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/other/">other</a></p><p class="item-title"><a href="/posts/75ff714c.html" class="title">添加网站的专属客服(免费版)</a></p><p class="item-date"><time datetime="2018-06-01T17:37:43.000Z" itemprop="datePublished">2018-06-01</time></p></div></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">分类</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/shadowsocks/">shadowsocks</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/world/">world</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/加密/">加密</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/破解/">破解</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">归档</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div class="widget tagcloud"><a href="/tags/bat/" style="font-size:10px">bat</a> <a href="/tags/centos6/" style="font-size:12.5px">centos6</a> <a href="/tags/centos7/" style="font-size:13.75px">centos7</a> <a href="/tags/chat/" style="font-size:11.25px">chat</a> <a href="/tags/cloud/" style="font-size:10px">cloud</a> <a href="/tags/css/" style="font-size:10px">css</a> <a href="/tags/dos/" style="font-size:10px">dos</a> <a href="/tags/eclipse/" style="font-size:11.25px">eclipse</a> <a href="/tags/ejs/" style="font-size:11.25px">ejs</a> <a href="/tags/exception/" style="font-size:11.25px">exception</a> <a href="/tags/git/" style="font-size:10px">git</a> <a href="/tags/gitter/" style="font-size:10px">gitter</a> <a href="/tags/gradle/" style="font-size:11.25px">gradle</a> <a href="/tags/hexo/" style="font-size:12.5px">hexo</a> <a href="/tags/html/" style="font-size:11.25px">html</a> <a href="/tags/idea/" style="font-size:10px">idea</a> <a href="/tags/java/" style="font-size:20px">java</a> <a href="/tags/java8/" style="font-size:11.25px">java8</a> <a href="/tags/javascript/" style="font-size:18.75px">javascript</a> <a href="/tags/jdk/" style="font-size:12.5px">jdk</a> <a href="/tags/jvm/" style="font-size:10px">jvm</a> <a href="/tags/kafka/" style="font-size:10px">kafka</a> <a href="/tags/lambda/" style="font-size:11.25px">lambda</a> <a href="/tags/linux/" style="font-size:16.25px">linux</a> <a href="/tags/lock/" style="font-size:10px">lock</a> <a href="/tags/lombok/" style="font-size:10px">lombok</a> <a href="/tags/maven/" style="font-size:15px">maven</a> <a href="/tags/mongodb/" style="font-size:10px">mongodb</a> <a href="/tags/mysql/" style="font-size:17.5px">mysql</a> <a href="/tags/nginx/" style="font-size:15px">nginx</a> <a href="/tags/nodejs/" style="font-size:10px">nodejs</a> <a href="/tags/openjdk/" style="font-size:10px">openjdk</a> <a href="/tags/privoxy/" style="font-size:10px">privoxy</a> <a href="/tags/redis/" style="font-size:13.75px">redis</a> <a href="/tags/sh/" style="font-size:10px">sh</a> <a href="/tags/shadowsocks/" style="font-size:13.75px">shadowsocks</a> <a href="/tags/shell/" style="font-size:11.25px">shell</a> <a href="/tags/springboot/" style="font-size:12.5px">springboot</a> <a href="/tags/test/" style="font-size:10px">test</a> <a href="/tags/tomcat/" style="font-size:15px">tomcat</a> <a href="/tags/ubuntu/" style="font-size:13.75px">ubuntu</a> <a href="/tags/vue/" style="font-size:10px">vue</a> <a href="/tags/wechat/" style="font-size:11.25px">wechat</a> <a href="/tags/weibo/" style="font-size:10px">weibo</a> <a href="/tags/windows/" style="font-size:11.25px">windows</a> <a href="/tags/world/" style="font-size:10px">world</a> <a href="/tags/分布式/" style="font-size:10px">分布式</a> <a href="/tags/加密/" style="font-size:10px">加密</a> <a href="/tags/图灵机器人/" style="font-size:10px">图灵机器人</a> <a href="/tags/图片压缩/" style="font-size:10px">图片压缩</a> <a href="/tags/破解/" style="font-size:10px">破解</a> <a href="/tags/验证码/" style="font-size:11.25px">验证码</a> <a href="/tags/高德地图/" style="font-size:10px">高德地图</a></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">链接</h3><div class="widget"><ul><li><a href="http://hexo.io" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a></li><li><a href="http://github.com/ppoffice" rel="external nofollow noopener noreferrer" target="_blank">theme</a></li></ul></div></div><div id="toTop" class="fa fa-angle-up"></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2018 迷失的鹿hold <a id="jsl_speed_stat1" href="http://www.yunaq.com/#zid=5b0e7222796db455f9550771" target="_blank" rel="external nofollow noopener noreferrer">知道创宇云安全</a><script src="//static.yunaq.com/static/js/stat/picture1_stat.js" charset="utf-8" type="text/javascript"></script><br><span id="busuanzi_container_site_pv">总访问 <span id="busuanzi_value_site_pv"></span> 次</span>, <span id="busuanzi_container_site_uv">您是本站第 <span id="busuanzi_value_site_uv"></span> 位访问者</span><br></div></div></footer><script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cytD900Qf"></script><script type="text/javascript" charset="utf-8" src="https://changyan.itc.cn/js/lib/jquery.js"></script><script type="text/javascript" charset="utf-8" src="https://changyan.sohu.com/js/changyan.labs.https.js?appid=cytD900Qf"></script><script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js"></script><script type="text/javascript">window.changyan.api.config({appid:"cytD900Qf",conf:"prod_ea558135a60cb6a3e2797e2ce29bd465"})</script><script src="/libs/lightgallery/js/lightgallery.min.js"></script><script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script><script src="/libs/lightgallery/js/lg-pager.min.js"></script><script src="/libs/lightgallery/js/lg-autoplay.min.js"></script><script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script><script src="/libs/lightgallery/js/lg-zoom.min.js"></script><script src="/libs/lightgallery/js/lg-hash.min.js"></script><script src="/libs/lightgallery/js/lg-share.min.js"></script><script src="/libs/lightgallery/js/lg-video.min.js"></script><script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script><script type="text/javascript">function addCount(r){url=0<$(".leancloud_visitors").length?$(".leancloud_visitors").attr("id").trim():"blog.liurenjie.top",title=$(".leancloud_visitors").attr("data-flag-title").trim();var t=new AV.Query(r);t.equalTo("title",title),t.equalTo("url",url),t.find({success:function(t){if(0<t.length){var e=t[0];e.fetchWhenSave(!0),e.increment("time"),e.save()}else{var n=new r;n.set("title",title),n.set("url",url),n.set("time",1),n.save(null,{success:function(t){},error:function(t,e){alert("Failed to create")}})}},error:function(t){alert("Error:"+t.code+" "+t.message)}})}function showCount(t){var e=new AV.Query("Counter");if(0<$(".leancloud_visitors").length){var n=$(".leancloud_visitors").attr("id").trim(),r=$(".leancloud_visitors").attr("data-flag-title").trim();e.equalTo("url",n),e.equalTo("title",r),e.find(function(t){var e=t[0].get("time");$(document.getElementById(n)).text(e||"0")},function(t){alert("Error:"+t.code+" "+t.message)})}}function showListCount(t){var e=new AV.Query(t);e.descending("time"),e.containedIn("url",getPageIds()),e.find({success:function(t){for(var e=0;e<t.length;e++){var n=t[e];title=n.get("title"),url=n.get("url"),time=n.get("time"),showcontent=title+" ("+time+")",$(document.getElementById(url)).text(time||"0")}},error:function(t){alert("Error:"+t.code+" "+t.message)}})}function getPageIds(){for(var t=$(".leancloud_visitors"),e=t.length,n=new Array,r=0;r<e;r++)n.push(t[r].id);return n}AV.init({appId:"AhpPKNj6pDcaJSDWcAn16EOw-9Nh9j0Va",appKey:"4G8OCBqfNDS4YaDVrNd3y0N9"}),$(function(){var t=AV.Object.extend("Counter");1<$(".leancloud_visitors").length?console.log("home"):addCount(t),1<$(".leancloud_visitors").length?showListCount(t):showCount(t)})</script><script>!function(){var t="http:"==document.location.protocol?"http://js.passport.qihucdn.com/11.0.1.js?b46d7ac1110ef43c668624687d7b3d56":"https://jspassport.ssl.qhimg.com/11.0.1.js?b46d7ac1110ef43c668624687d7b3d56";document.write('<script src="'+t+'" id="sozz"><\/script>')}()</script><script>((window.gitter={}).chat={}).options={room:"itblog/Lobby"}</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script><script src="/js/main.js"></script></div></body>